<main style="flex-grow: 1; background-color: var(--color-orea-cream); padding: 12rem 2.4rem 9.6rem;">
  <div style="max-width: 1200px; margin: 0 auto;">
    <h1 style="font-family: var(--font-heading); font-size: clamp(3.6rem, 5vw, 6rem); font-weight: 300; text-align: center; margin-bottom: 6.4rem; color: var(--color-orea-dark);">
      Shopping Cart
    </h1>

    {% if cart.item_count > 0 %}
      <form action="{{ routes.cart_url }}" method="post">
        <div style="margin-bottom: 4.8rem;">
          {% for item in cart.items %}
            <div style="display: grid; grid-template-columns: 120px 1fr auto; gap: 2.4rem; padding: 2.4rem 0; border-bottom: 1px solid var(--color-orea-linen);">
              <div style="aspect-ratio: 3/4; background-color: var(--color-orea-linen); overflow: hidden;">
                {% if item.image %}
                  <img src="{{ item.image | image_url: width: 240 }}" alt="{{ item.title }}" style="width: 100%; height: 100%; object-fit: cover;">
                {% endif %}
              </div>
              
              <div>
                <h3 style="font-size: 1.6rem; font-weight: 500; margin-bottom: 0.8rem;">{{ item.product.title }}</h3>
                <p style="font-size: 1.4rem; color: var(--color-orea-taupe); margin-bottom: 1.6rem;">{{ item.variant.title }}</p>
                <div style="display: flex; align-items: center; gap: 1.2rem;">
                  <label style="font-size: 1.2rem; color: var(--color-orea-taupe);">Qty:</label>
                  <input type="number" name="updates[]" value="{{ item.quantity }}" min="0" style="width: 80px; padding: 0.8rem; border: 1px solid var(--color-orea-linen);">
                </div>
              </div>
              
              <div style="text-align: right;">
                <p style="font-size: 1.8rem; font-weight: 500; color: var(--color-orea-dark);">{{ item.final_line_price | money }}</p>
              </div>
            </div>
          {% endfor %}
        </div>

        <div style="display: flex; justify-content: space-between; align-items: center; padding: 3.2rem 0; border-top: 2px solid var(--color-orea-dark);">
          <div>
            <button type="submit" name="update" style="padding: 1.2rem 2.4rem; border: 1px solid var(--color-orea-dark); background: transparent; font-size: 1.1rem; letter-spacing: 0.2em; text-transform: uppercase; cursor: pointer;">
              Update Cart
            </button>
          </div>
          <div style="text-align: right;">
            <p style="font-size: 1.4rem; color: var(--color-orea-taupe); margin-bottom: 0.8rem;">Subtotal</p>
            <p style="font-size: 3.2rem; font-family: var(--font-heading); font-weight: 300; color: var(--color-orea-dark);">{{ cart.total_price | money }}</p>
          </div>
        </div>

        <div style="text-align: right;">
          <button type="submit" name="checkout" style="padding: 2rem 6.4rem; background-color: var(--color-orea-dark); color: var(--color-orea-cream); font-size: 1.1rem; letter-spacing: 0.3em; text-transform: uppercase; font-weight: 600; border: none; cursor: pointer;">
            Checkout
          </button>
        </div>
      </form>
    {% else %}
      <div style="text-align: center; padding: 6.4rem 2.4rem;">
        <p style="font-size: 1.8rem; color: var(--color-orea-taupe); margin-bottom: 4.8rem;">Your cart is currently empty.</p>
        <a href="/collections/all" style="display: inline-block; padding: 1.6rem 4.8rem; background-color: var(--color-orea-dark); color: var(--color-orea-cream); font-size: 1.1rem; letter-spacing: 0.3em; text-transform: uppercase; font-weight: 600;">
          Continue Shopping
        </a>
      </div>
    {% endif %}
  </div>
</main>
